---
layout: default
---

<div class="block_tag">LeetCode 笔记  <a style="font-size: 16px;" href="/algorithm_list">列表视图</a></div>
<div id="mynetwork" style="height: 680px"></div>

<script>
    var items = [];
    {% assign sorted_post = site.algorithms | sort: 'leetcode_id' %}
    {% for post in sorted_post %}
    {
        let category = [];
        {% for cat in post.category %}
        category.push('{{ cat }}');
        {% endfor %}
        let id , type;
        if (`{{ post.leetcode_id }}`) {
            id = `{{ post.leetcode_id }}`;
            type = 'LeetCode'
        } else if (`{{ post.method_id }}`) {
            id = `{{ post.method_id }}`;
            type = 'method'
        }
        items.push({
            tag: `{{ post.tags[0] }}`,
            title: `{{ post.title }}`,
            label: id || `{{ post.title }}`,
            url: `{{ post.url }}`,
            id,
            type,
            parentId: `{{ post.parent_id | join: "," }}`.split(','),
            difficult: `{{ post.difficult }}`,
            category
        });
    }
    {% endfor %}



  // create an array with nodes
  var nodes = new vis.DataSet(items.map(t => {
      let group = t.tag;
      if (t.tag === 'leetcode') {
          group = `${t.tag}_${t.difficult || 'easy'}`
      }
      return {
          id: t.id,
          label: t.label,
          title: t.title,
          group
      }
  }));

  // create an array with edges
  var relations = [];
  items.forEach(t => {
      if (t.parentId) {
          t.parentId.forEach(pid => {
              relations.push({
                  from: pid,
                  to: t.id,
                  arrows: {
                      to: {
                          enabled: !['二分查找'].includes(pid),
                      }
                  }
              });
          })
      }
  });
  relations = relations.filter(a => a);
  var edges = new vis.DataSet(relations);

  // create a network
  var container = document.getElementById("mynetwork");
  var data = {
      nodes: nodes,
      edges: edges,
  };
  var options = {
      nodes: {
          physics: true,
          shape: "box",
          scaling: {
              min: 10,
              max: 30,
              label: {
                  enabled: true,
                  min: 14,
                  max: 30,
                  maxVisible: 30,
                  drawThreshold: 5
              },
          },
          font: {
              size: 16
          },
          borderWidth: 1,
          borderWidthSelected: 2
      },
      edges: {
          arrows: {
              to: {
                  enabled: true,
              }
          },
          color: {inherit: true},
          width: 1,
          smooth: {
              type: "continuous",
          },
      },
      interaction: {
          hideEdgesOnDrag: false,
          tooltipDelay: 200,
      },
      groups: {
          leetcode_easy: {
              color: {
                  border: '#fda022',
                  background: '#f6ae718f',
                  highlight: {
                      border: '#fda022',
                      background: '#f6ae718f',
                  }
              },
              borderWidth:1,
          },
          leetcode_medium: {
              color: {
                  border: '#fda022',
                  background: '#fd8020d9',
                  highlight: {
                      border: '#fda022',
                      background: '#fd8020d9',
                  }
              },
              borderWidth:1,
          },
          leetcode_hard: {
              color: {
                  border: '#fda022',
                  background: '#ce0000d9',
                  highlight: {
                      border: '#fda022',
                      background: '#ce0000d9',
                  }
              },
              borderWidth:1,
          }
      },
      layout: {
          randomSeed: undefined,
          improvedLayout: true,
          clusterThreshold: 150,
          hierarchical: {
              enabled: false,
              levelSeparation: 250,
              nodeSpacing: 100,
              treeSpacing: 10,
              blockShifting: true,
              edgeMinimization: true,
              parentCentralization: true,
              direction: 'RL',        // UD, DU, LR, RL
              sortMethod: 'directed',  // hubsize, directed
              shakeTowards: 'roots'  // roots, leaves
          }
      }
  };

  var network = new vis.Network(container, data, options);

  network.on('doubleClick',function({nodes}){
      if (nodes.length > 0) {
          let nodeId = nodes[0];
          let item = items.find(i => i.id === nodeId);
          item && window.open(item.url);
      }
  })
</script>
